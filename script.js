"use strict";function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}function _arrayWithHoles(e){if(Array.isArray(e))return e}$(document).ready(function(){function C(e){window.location.hash=e.data("last-hash"),x.removeClass("focus"),e.removeClass("minimize"),e.addClass("focus"),e.css("z-index",s++)}function e(){var e=window.location.hash;if(e.endsWith("-")){var t=e.substring(0,e.length-1);return $(t).data("last-hash",null),void(window.location.hash=t)}var r=$(e);if(r.hasClass("window","open")){var a=r.data("last-hash");if(a&&a!==e)return void(window.location.hash=a)}var n=e;if(/^#?$/.test(n))x.removeClass("focus");else{$("a[href^='".concat(n,"-']")).removeClass("active"),$("[id^='".concat(n.substring(1),"-']")).removeClass("open");for(var i=[n];;){var o=n.lastIndexOf("-");if(!~o)break;n=n.substring(0,o),i.unshift(n)}var s=$(n);s.data("last-hash",e),C(s);for(var c=null,l=0;l<i.length;l++){var d=i[l],u=$(d),f=$("a[href='".concat(d,"']"));if(f.length&&(c=f.first()),0<l){var h=i[l-1];$("a[href^='".concat(h,"-']")).removeClass("active"),$("[id^='".concat(h.substring(1),"-']")).removeClass("open")}f.addClass("active"),u.addClass("open")}switch(s.attr("id")){case"browser":var v=s.find(".tab-container");if(r.length){r[0].click()}else{var p=$('<a class="tab open active"></a>');p.attr("id",e.substring(1)),p.attr("href",e);var m=c.data("url");p.data({url:m}),p.mousedown(function(e){return e.stopPropagation()});var y=$('<div class="icon"></div>'),b=$('<div class="name"></div>'),w=$('<a class="close" href="#"></a>');y.css("background-image","url(".concat(c.data("image"),")")),b.text(c.data("name")),w.attr("href","#"),w.click(function(e){e.preventDefault();var t=p.hasClass("open"),r=p.prev()[0]||p.next()[0];p.remove(),t&&(r?r.click():_slicedToArray(s.find(".button-close"),1)[0].click())}),p.append(y),p.append(b),p.append(w),p.click(function(){A.attr("src")!==m&&A.attr("src",m),T.find(".url").text(m)}),p.click(),v.append(p)}break;case"instagram":var g=s.find(".title-container");g.empty(),g.append('<div class="icon icon-instagram">'),g.append('<div class="name">Instagram</div>');break;default:var k=s.find(".title-container");k.empty(),k.append(c.children().clone())}}}var x=$(".window"),o=$("#directory"),t=$("#browser"),_=$("#terminal"),r=x.find(".toolbar"),a=r.find(".button-container"),A=t.find(".iframe"),T=t.find(".addressbar"),n=$("html"),c=$(".label-clock"),i=$("a"),s=2,l=null,d=null;window.setTimeout(e,0),$(window).on("hashchange",e),a.click(function(){d&&_slicedToArray($(this).find(".button-close"),1)[0].click()}),a.find(".button-close").click(function(e){var t=$(this).parents(".window"),r=t.attr("id");switch($("a[href='#".concat(r,"']")).removeClass("active"),t.removeClass("open"),t.data("last-hash",null),t.attr("id")){case"terminal":X();break;case"browser":t.find(".tab-container").empty(),A.attr("src",null),T.find(".url").text(null)}}),a.find(".button-minimize").click(function(e){d||$(this).parents(".window").addClass("minimize")}),a.find(".button-maximize").click(function(e){d||(e.preventDefault(),$(this).parents(".window").toggleClass("maximize"))}),T.find(".button-refresh").click(function(e){e.preventDefault(),A.attr("src",A.attr("src"))}),T.find(".button-new").click(function(e){e.preventDefault(),window.open(A.attr("src"))}),$(".desktop").mousedown(function(){window.location.hash="#",x.removeClass("focus")}),x.mousedown(function(e){e.stopPropagation(),C($(this))});var u={users:{tae:{desktop:{}}}},f=[];$("*").each(function(){var e=this.id;e&&f.push(e)});for(var h=0,v=f;h<v.length;h++){var p=v[h],m=u.users.tae.desktop,y=p.split("-"),b=!0,w=!1,g=void 0;try{for(var k,j=y[Symbol.iterator]();!(b=(k=j.next()).done);b=!0){var I=k.value;m[I]||(m[I]={}),m=m[I]}}catch(e){w=!0,g=e}finally{try{b||null==j.return||j.return()}finally{if(w)throw g}}}var S=null;$.get("./script.js",function(e){return S=e},"text");var z=null;$.get("./whoami.txt",function(e){return z=e},"text");var O=null,W=[],H=0,D=null,P=null,R=null,X=function(){D=!(O=["users","tae","desktop"]),V(),G(!0)};window.setTimeout(X,0);function Y(e){var t=e?e.split("/"):[],r=_toConsumableArray(O);""===t[0]?(r=[],t.shift()):"~"===t[0]&&(r=["users","tae"],t.shift());var a=!0,n=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;switch(c){case"":case".":break;case"..":r.pop();break;default:r.push(c)}}}catch(e){n=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return r}function E(e){var t=u,r=!0,a=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){t=t[i.value]}}catch(e){a=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}return t}function M(e){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Array.isArray(e)||(e=[e]);var a=_.find(".line-container");e.forEach(function(e){var t=$('<div class="line">');r?t.html(e&&e.replace(/([.,?!"';]*\w*[.,?!"';]*\s*)/g,"<span>$1</span>").replace(/\{(.+)\}/g,'<div class="underline">$1</div>&nbsp;&nbsp;').replace(/\*(.+)\*/g,'<div class="highlight">$1</div>')):t.html(e),a.append(t)})}function N(e){var t=_.find(".cursor");if(q(t),void 0!==e)for(var r=0,a=Array.from(e);r<a.length;r++){var n=a[r];"\n"===n?(G(!1,!1),t=_.find(".cursor")):t.before('<div class="letter">'.concat(n,"</div>"))}}function K(e,t){return 0<Object.keys(e[t]).length}function L(e){var t=e.keyCode;switch(t){case 8:case 9:case 13:case 27:case 37:case 38:case 39:case 40:e.preventDefault()}if(!P||27===t){var r=_.find(".cursor"),a=r.prev(".letter"),n=r.next(".letter"),i=r.parents(".line");switch(t){case 8:a.length&&(a.remove(),q(r));break;case 9:if(!n.length){var o=i.children(".letter").text().split(/\s+/).pop(),s=o.lastIndexOf("/"),c=o.substring(0,s+1),l=o.substring(s+1),d=Y(c),u=E(d);if(u){var f=Object.keys(u).filter(function(e){return e.startsWith(l)});if(1===f.length){var h=f[0].substring(l.length);N(h)}else if(1<f.length){if(D){r.detach(),i.before(i.clone());var v=!0,p=!1,m=void 0;try{for(var y,b=f[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var w=y.value;i.before('<div class="line"><div class="'.concat(K(u,w)?"dir":"file",'">').concat(w,"</div></div>"))}}catch(e){p=!0,m=e}finally{try{v||null==b.return||b.return()}finally{if(p)throw m}}r.appendTo(i)}D=!0}}}break;case 13:var g=i.children(".letter").text();W.push(g),H=W.length,function(e){var t=_toArray(e.split(/\s+/)),a=t[0],r=t.slice(1),n=r.filter(function(e){return!e.startsWith("-")}),i=r.find(function(e){return e.startsWith("-")}),o=i?i.substring(1).split(""):[];switch(a){case"":break;case"help":M([" *help*            Show all the possible commands"," *whoami* [-j]     Display information about Tae"," *cd* {dir}        Change the working directory"," *ls* {dir}        List directory contents"," *pwd*             Return the working directory"," *rm* [-fr] {dir}  Remove directory entries"," *open* {files}    Open the files"," *clear*           Clear the terminal screen"," *exit*            Close the terminal window"],!0);break;case"whoami":o.includes("j")?M(["*Taeyeong (Hayden) Kim*",""].concat(_toConsumableArray(z.split("\n"))),!0):M(["*Taeyeong (Hayden) Kim*","Hayden Kim is a coder and a computer science graduate from Georgia Tech. In his spare time he enjoys reading about cryptography and playing with his cat.",'Type "*whoami -j*" to read detailed information about Tae.'],!0);break;case"cd":var s=n.shift(),c=Y(s),l=E(c);if(void 0===l){M("-bash: ".concat(a,": ").concat(s,": No such file or directory"));break}if(0===Object.keys(l).length){M("-bash: ".concat(a,": ").concat(s,": Not a directory"));break}O=_toConsumableArray(c);break;case"ls":var d=n.shift(),u=Y(d),f=E(u);if(void 0===f){M("-bash: ".concat(a,": ").concat(d,": No such file or directory"));break}if(0===Object.keys(f).length){M('<div class="file">'.concat(u.pop(),"</div>"));break}M(Object.keys(f).map(function(e){return'<div class="'.concat(K(f,e)?"dir":"file",'">').concat(e,"</div>")}));break;case"pwd":M("/"+O.join("/"));break;case"rm":var h=n.shift(),v=Y(h),p=E(v);if(void 0===p){M("-bash: ".concat(a,": ").concat(h,": No such file or directory"));break}if(Object.keys(p).length&&!o.includes("r")){M("-bash: ".concat(a,": ").concat(h,": Is a directory"));break}var m=function(e){return"#"+e.slice(3).join("-")}(v);if("#"===m){if(!o.includes("f")){M("-bash: ".concat(a,": ").concat(h,": Permission denied (try again with -f)"));break}$(".desktop").remove()}else $("a[href='".concat(m,"']")).remove(),$("[id='".concat(m.substring(1),"']")).remove(),$("a[href^='".concat(m,"-']")).remove(),$("[id^='".concat(m.substring(1),"-']")).remove();var y=v.pop();delete E(v)[y];break;case"open":var b=0,w=!0,g=!1,k=void 0;try{for(var C,x=function(){var e=C.value,t=Y(e);if(void 0===E(t))return M("The file /".concat(t.join("/")," does not exist.")),"continue";"users"===t[0]&&"tae"===t[1]&&"desktop"===t[2]&&t.splice(0,3);var r="#"+t.join("-");if("#"==r||!$(r).length)return M("-bash: ".concat(a,": ").concat(e,": Permission denied")),"continue";window.setTimeout(function(){window.location.hash=r},b+=200)},A=n[Symbol.iterator]();!(w=(C=A.next()).done);w=!0)x()}catch(e){g=!0,k=e}finally{try{w||null==A.return||A.return()}finally{if(g)throw k}}break;case"clear":return G(!0);case"exit":return _slicedToArray(_.find(".button-close"),1)[0].click();case"hackertyper":if(S)return G(P=!0,!1);M("Error occurred while loading source code.");break;default:M("-bash: ".concat(a,": command not found. See 'help'."))}G(),_slicedToArray(_.find(".cursor"),1)[0].scrollIntoView()}(g);break;case 27:V(),G();break;case 37:a.length&&(a.addClass("cursor"),r.removeClass("cursor"));break;case 38:if(0<H){var k=W[--H];r.detach(),i.find(".letter").remove(),i.append(r),N(k)}break;case 39:n.length&&(n.addClass("cursor"),r.removeClass("cursor"));break;case 40:if(H<W.length){var C=W[++H];r.detach(),i.find(".letter").remove(),i.append(r),N(C)}}9!==t&&(D=!1),_slicedToArray(r,1)[0].scrollIntoView()}}var V=function(){P=!1,R=0},G=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=_.find(".line-container");e&&r.empty();var a=$('<div class="line">');if(t){var n=_toConsumableArray(O);"users"===n[0]&&"tae"===n[1]&&n.splice(0,2,"~");var i=n.join("/")||"/";a.append("tae@world:".concat(i,"$ "))}return _.find(".cursor").removeClass("cursor"),a.append('<div class="letter cursor">'),r.append(a),a},q=function(e){e.prev().after(e)};$(document).keydown(function(e){o.hasClass("focus")?function(e){var t=o.find(".panel.open .directory.active").last();switch(e.keyCode){case 38:var r=_slicedToArray(t.prev(":not(.directory-parent)"),1)[0];r&&r.click();break;case 40:var a=_slicedToArray(t.next(),1)[0];a&&a.click();break;case 37:var n=_slicedToArray(t.parents(".panel-container").prev().find(".panel.open .directory.active"),1)[0];n&&n.click();break;case 39:var i=_slicedToArray(t.parents(".panel-container").next().find(".panel.open .directory:not(.directory-parent)").first(),1)[0];i&&i.click()}}(e):_.hasClass("focus")&&L(e)}),$(document).keypress(function(e){_.hasClass("focus")&&function(e){var t=e.charCode||e.keyCode;if(3===t)V(),G();else if(32<=t)if(P){var r=1+(8*Math.random()|0),a=S.substr(R,r);a||(V(),G()),R+=r,N(a)}else{var n=String.fromCharCode(t);N(n)}_slicedToArray(_.find(".cursor"),1)[0].scrollIntoView()}(e)}),x.each(function(e){var t=20+20*e,r=20+20*e;$(this).css({top:t,left:r})});var B=null,F={},J={};r.mousedown(function(e){d||1===e.which&&((B=$(this).parents(".window")).hasClass("maximize")||(B.addClass("moving"),F=B.position(),J.x=e.clientX,J.y=e.clientY,$(document).mousemove(function(e){var t=e.clientX-J.x,r=e.clientY-J.y;F.left+=t,F.top+=r,J.x=e.clientX,J.y=e.clientY,B.css(F)}),$(document).mouseup(function(){B.removeClass("moving"),$(document).off("mousemove"),$(document).off("mouseup")})))}),i.mousedown(function(e){e.stopPropagation()}),[[".border-left","left","width","x","clientX"],[".border-top","top","height","y","clientY"],[".border-right",null,"width","x","clientX"],[".border-bottom",null,"height","y","clientY"]].map(function(e){var t=_slicedToArray(e,5),r=t[0],a=t[1],n=t[2],i=t[3],o=t[4],s=null,c={},l={};x.find(r).mousedown(function(e){if(!d&&1===e.which&&!(s=$(this).parents(".window")).hasClass("maximize")){if(s.addClass("resizing"),a){var t=s.position();c[a]=t[a]}c[n]=s[n](),l[i]=e[o],$(document).mousemove(function(e){var t=e[o]-l[i];a?(c[a]+=t,c[n]-=t):c[n]+=t,l[i]=e[o],c.width<280||c.height<60||s.css(c)}),$(document).mouseup(function(){s.removeClass("resizing"),$(document).off("mousemove"),$(document).off("mouseup")})}})});function Q(){function e(e){return e<10?"0".concat(e):e}var t=new Date,r=t.getHours(),a=t.getMinutes(),n=e(r%12||12),i=e(a),o=["AM","PM"][r/12|0],s="".concat(n,":").concat(i," ").concat(o);c.find(".name").text(s)}window.setInterval(Q,1e3),Q(),i.each(function(){$(this).attr("href").startsWith("#")||($(this).attr("target","_blank"),$(this).attr("rel","noopener"),$(this).addClass("link-external"))});function U(){var e=document.body.clientWidth;d=!(l=512<e),n.toggleClass("desktop",l),n.toggleClass("mobile",d)}U(),window.onresize=U});